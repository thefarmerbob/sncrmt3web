# Generated by Django 5.2 on 2025-05-25 12:10

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('chapters', '0001_initial'),
        ('questions', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Application',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('modified_at', models.DateTimeField(auto_now=True)),
                ('first_name', models.CharField(max_length=255)),
                ('last_name', models.CharField(max_length=255)),
                ('email', models.EmailField(max_length=254)),
                ('date_join', models.DateField(blank=True, null=True, verbose_name='Arrival Date')),
                ('date_leave', models.DateField(blank=True, null=True, verbose_name='Departure Date')),
                ('member_type', models.CharField(choices=[('new member', 'new member'), ('returning member', 'returning member')], default='new member', max_length=20)),
                ('guests', models.CharField(choices=[('1', '1'), ('2', '2')], default='1', max_length=2)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('Submitted', 'Submitted')], default='Draft', max_length=20)),
                ('application_status', models.CharField(choices=[('Approved for interview', 'Approved for interview'), ('Scheduled interview', 'Scheduled interview'), ('Interview passed', 'Interview passed'), ('Rejected', 'Rejected'), ('Accepted', 'Accepted'), ('Waiting list', 'Waiting list'), ('Application in progress', 'Application in progress'), ('Submitted', 'Submitted'), ('Onboarding', 'Onboarding')], default='Application in progress', max_length=40)),
                ('chapter', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='applications', to='chapters.chapter')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='applications', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='ApplicationAnswer',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('answer', models.TextField(blank=True, null=True)),
                ('application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='answers', to='applications.application')),
                ('question', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='answers', to='questions.question')),
            ],
            options={
                'ordering': ['question__order'],
                'unique_together': {('application', 'question')},
            },
        ),
    ]
